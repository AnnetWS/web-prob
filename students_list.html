{% extends "base.html" %}

{% block title %}Список студентов{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 mb-0">Список студентов</h1>
    <a href="{{ url_for('student_add') }}" class="btn btn-primary">
        Добавить студента
    </a>
</div>

{% if students %}
<table class="table table-striped table-bordered align-middle">
    <thead class="table-dark">
    <tr>
        <th scope="col" style="width: 5%">ID</th>
        <th scope="col">ФИО</th>
        <th scope="col">Группа</th>
        <th scope="col" style="width: 10%">Возраст</th>
        <th scope="col" style="width: 20%">Действия</th>
    </tr>
    </thead>
    <tbody>
    {% for s in students %}
        <tr>
            <td>{{ s.id }}</td>
            <td>{{ s.full_name }}</td>
            <td>{{ s.group_name }}</td>
            <td>{{ s.age }}</td>
            <td>
                <a href="{{ url_for('student_edit', student_id=s.id) }}"
                   class="btn btn-sm btn-secondary">
                    Редактировать
                </a>

                <form method="post"
                      action="{{ url_for('student_delete', student_id=s.id) }}"
                      style="display:inline-block"
                      onsubmit="return confirm('Удалить этого студента?');">
                    <button type="submit"
                            class="btn btn-sm btn-danger">
                        Удалить
                    </button>
                </form>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% else %}
<p>Пока что в базе нет ни одного студента.</p>
{% endif %}
{% endblock %}
